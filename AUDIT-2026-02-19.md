# The Triton Website Audit â€” 19 Feb 2026

## Summary
3,139 articles in Sanity. Site loads and renders via Vite + React + Sanity (client-side fetches via CDN). Overall the site is functional but has several SEO, security, and content issues.

---

## 1. Page Load Check

| Page | Status | Notes |
|------|--------|-------|
| Home `/` | âœ… Loads | Fetches 50 articles, renders hero carousel + sections |
| News `/news` | âœ… Loads | Category page, fetches by `news` slug |
| Crew Life `/crew-life` | âœ… Loads | Category page |
| Events `/events` | âœ… Loads | Fetches events/galleries/expos categories |
| Search `/search` | âœ… Loads | Query param `?q=` triggers Sanity search |
| Article `/article/:slug` | âœ… Loads | Full article with body, sidebar |
| Author `/author/:slug` | âœ… Loads | Author page with articles |
| Category `/category/:slug` | âœ… Loads | Generic category page |
| Tag `/tag/:slug` | âœ… Loads | Tag-filtered articles |
| Contact `/contact` | âœ… Loads | Static page |
| Advertise `/advertise` | âœ… Loads | Static page |
| Magazine `/magazine` | âœ… Loads | Magazine issues from Sanity |
| Galleries `/galleries` | âœ… Loads | Dedicated galleries page |
| Expos `/expos` | âœ… Loads | Dedicated expos page |

## 2. Broken Images & Missing Content

### 18 Articles Without heroImage or heroImageUrl
All 18 found â€” 2 Crew Life, 6 Expos, 10 Galleries:

**Crew Life (2):**
1. "From Greenhorn to Chief Officer: Career Paths in Superyacht Crew" (`from-greenhorn-to-chief-officer-career-paths-superyacht-crew`)
2. "0500 Start: A Day in the Life of a Superyacht Deckhand" (`0500-start-day-in-life-superyacht-deckhand`)

**Expos (6):**
3. "Antigua Charter Yacht Show 2025: The Fleet in Review" (`antigua-charter-yacht-show-2025-fleet-in-review`)
4. "Cannes Yachting Festival 2025: The Hottest New Launches" (`cannes-yachting-festival-2025-hottest-new-launches`)
5. "Dubai Boat Show 2025: Middle Eastern Yards Make Their Mark" (`dubai-boat-show-2025-middle-eastern-yards-make-their-mark`)
6. "Palma Superyacht Show 2025: The Mediterranean Season Opener" (`palma-superyacht-show-2025-mediterranean-season-opener`)
7. "Singapore Yacht Show 2025: Asia's Superyacht Market Comes of Age" (`singapore-yacht-show-2025-asia-superyacht-market-comes-of-age`)
8. "The Superyacht Forum 2025: Sustainability Takes Centre Stage" (`superyacht-forum-2025-sustainability-takes-centre-stage`)

**Galleries (10):**
9. "Timeless Elegance: A Gallery of the World's Most Iconic Classic Yachts" (`timeless-elegance-gallery-iconic-classic-yachts`)
10. "Behind the Scenes: A Photo Essay on Superyacht Crew Life" (`behind-the-scenes-photo-essay-superyacht-crew-life`)
11. "FLIBS 2025: A Dock Walk Through Billionaires' Row" (`flibs-2025-dock-walk-billionaires-row`)
12. "Clear to Land: Helicopter Pads on the World's Largest Superyachts" (`clear-to-land-helicopter-pads-largest-superyachts`)
13. "The Art of Living Aboard: A Superyacht Interiors Showcase" (`art-of-living-aboard-superyacht-interiors-showcase`)
14. "Monaco Yacht Show 2025: The 10 Biggest Yachts on Display" (`monaco-yacht-show-2025-10-biggest-yachts-on-display`)
15. "Monaco Yacht Show 2025: Inside the World's Most Luxurious Superyachts" (`monaco-yacht-show-2025-inside-most-luxurious-superyachts`)
16. "Infinity and Beyond: Superyacht Pool Design Reaches New Heights" (`infinity-and-beyond-superyacht-pool-design-new-heights`)
17. "Making Waves: The Most Spectacular Superyacht Pools and Beach Clubs" (`making-waves-most-spectacular-superyacht-pools-beach-clubs`)
18. "Toy Boxes of the Ultra-Wealthy: The Best Superyacht Tender Garages" (`toy-boxes-ultra-wealthy-best-superyacht-tender-garages`)

### Image Fallback Behavior
- **Home page**: Falls back to `/placeholder.jpg` â€” this file likely doesn't exist, resulting in broken images
- **Events page**: Shows empty grey `<div>` â€” acceptable graceful degradation
- **Article page**: Only shows image if `heroImageUrl` exists â€” no broken img tag, good

## 3. Article Detail Page Issues

- **Hardcoded "5 min read"** â€” `readingTimeMinutes` is fetched from Sanity but never used in `ArticlePage.tsx`. The old `Article.tsx` calculates it properly. **Bug.**
- **SEO component not used** â€” `ArticlePage.tsx` (the active route) does NOT use the `<SEO>` component. No `<title>` update, no OG tags, no meta description on article pages. **Critical SEO bug.**
- **Breadcrumb category link** goes to `/${categorySlug}` (e.g. `/news`) which works for top-level categories, but would 404 for any category not in the router's hardcoded routes.

## 4. SEO Issues â€” CRITICAL

- **No `<SEO>` component on ANY page** â€” only the old unused `Article.tsx` sets meta tags. Every page shows the static `<title>The Triton - Yachting News & Media</title>` from `index.html`.
- **No OG tags** set on any page (og:title, og:description, og:image)
- **No canonical URLs** 
- **No structured data** (JSON-LD) on article pages
- **No meta description** on any page
- **`index.html`** has no default meta description tag
- **SPA with no SSR/SSG** â€” search engines relying on initial HTML will see zero content. Consider prerendering or SSR for SEO-critical pages.

## 5. Navigation Issues

- **Navigation works correctly** â€” all links resolve to valid routes
- **Mobile menu** toggles properly
- **Search modal** opens from nav bar
- **"Yachts for Sale"** links to external YATCO site â€” opens in new tab, good
- **No "Captains" link in nav** despite `/captains` route existing
- **No "Magazine" link in main nav** â€” only accessible via footer or direct URL

## 6. Design Inconsistencies

- **Two navigation components**: `Navigation.tsx` and `NavigationNew.tsx` â€” only `NavigationNew` is used, the old one is dead code
- **Two home pages**: `Home.tsx` and `HomeNew.tsx` â€” only `HomeNew` is used
- **Two article detail pages**: `Article.tsx` and `ArticlePage.tsx` â€” only `ArticlePage` is routed
- **Two events pages**: `Events.tsx` and `EventsPageNew.tsx` â€” only `EventsPageNew` is routed
- **Category page** uses different typography (serif fonts) from the rest of the site (sans-serif)
- **Hardcoded AME Solutions ad** on homepage â€” should come from Sanity banner system
- **Hardcoded Quantum Marine ad** in nav fallback â€” same issue
- **Footer logo** uses external manuscdn.com URL â€” should be local asset

## 7. Sanity Query Issues

### ðŸ”´ GROQ Injection Vulnerability (Server-side)
`server/sanity.ts` uses **string interpolation** for all queries:
```js
*[_type == "article" && slug.current == "${slug}"][0]
```
This is a GROQ injection vulnerability. Malicious slug values could manipulate queries. **All server-side queries should use parameterized queries** (like the client-side `sanity.ts` does with `$slug`).

### Duplicate Queries
- Article fetching logic exists in 3 places: `server/sanity.ts`, `client/src/lib/sanity.ts`, `client/src/lib/sanityHooks.ts`
- Some queries differ slightly between them (e.g. article detail query fetches `seoTitle`/`seoDescription` in `sanity.ts` but not in `sanityHooks.ts`)

### Inefficiency
- `getPopularTags()` uses `count(*[_type == "article" && references(^._id)])` for EACH tag â€” O(nÃ—m) computation on every call. With 3,139 articles this is expensive.
- Home page fetches 50 articles but only displays ~14. Could reduce to 15.
- `getFeaturedArticles()` does two queries (featured then fallback) â€” could be one.
- `useCdn: false` on server but `useCdn: true` on client â€” correct, but server should still use CDN for read-only public queries.

## 8. Other Issues

- **No error boundary on individual routes** â€” only one global ErrorBoundary wraps the entire app
- **Newsletter form** has no backend â€” submitting does nothing
- **`/newsletter` route** linked from nav and sidebar doesn't exist â€” will 404
- **`readingTimeMinutes`** fetched from Sanity in `getArticleBySlug` (client) but field may not exist on most documents
- **Tag links** on article page aren't linked to `/tag/:slug` â€” they're just `<span>` elements
- **Category page** uses `useLocation()` path matching instead of route params â€” fragile, won't work for `/category/:slug` route

---

## Prioritized Fix List

### ðŸ”´ Critical (Fix immediately)
1. **Add SEO meta tags to all pages** â€” Use the existing `<SEO>` component on ArticlePage, Home, Category, Search, Events, etc.
2. **Fix GROQ injection in server/sanity.ts** â€” Switch all queries to use parameterized `$params` instead of string interpolation
3. **Add meta description to index.html** as fallback

### ðŸŸ  High Priority
4. **Add hero images to 18 articles** missing them (especially Galleries â€” a gallery page without images is bad)
5. **Fix hardcoded "5 min read"** in ArticlePage â€” use actual `readingTimeMinutes` or calculate from body
6. **Make tag links clickable** â€” wrap in `<Link href={/tag/${tagSlug}>}`
7. **Add `/newsletter` route** or change links to point to a real destination
8. **Fix Category page** to work with `/category/:slug` route param instead of path matching

### ðŸŸ¡ Medium Priority
9. **Remove dead code** â€” `Home.tsx`, `Article.tsx`, `ArticleDetail.tsx`, `Events.tsx`, `Navigation.tsx`, `CategoryPage.tsx`
10. **Consolidate Sanity query files** â€” reduce duplication between server/client
11. **Optimize `getPopularTags` query** â€” precompute or cache tag counts
12. **Reduce home page fetch** from 50 to 15 articles
13. **Add Magazine and Captains to main navigation**
14. **Move hardcoded ads to Sanity banner system**

### ðŸŸ¢ Low Priority  
15. **Add SSR/prerendering** for SEO (or use sitemap + dynamic rendering)
16. **Move footer logo to local asset** 
17. **Add individual route error boundaries**
18. **Consistent typography** â€” serif vs sans-serif across pages
